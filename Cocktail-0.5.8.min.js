/* Onsi Fakhouri <onsijoe@gmail.com>
 * backbone.cocktail v0.5.8
 * https://github.com/onsi/cocktail/ */
!function(n){"function"==typeof require&&"undefined"!=typeof module&&module.exports?module.exports=n(require("underscore")):"function"==typeof define?define(["underscore"],n):this.Cocktail=n(_)}(function(n){var e={};e.mixins={},e.mixin=function(i){var t=n.chain(arguments).toArray().rest().flatten().value(),o=i.prototype||i,r={};return n.each(t,function(i){n.isString(i)&&(i=e.mixins[i]),n.each(i,function(e,i){if(n.isFunction(e)){if(o[i]===e)return;o[i]&&(r[i]=r.hasOwnProperty(i)?r[i]:[o[i]],r[i].push(e)),o[i]=e}else n.isArray(e)?o[i]=n.union(e,o[i]||[]):n.isObject(e)?o[i]=n.extend({},e,o[i]||{}):i in o||(o[i]=e)})}),n.each(r,function(e,i){o[i]=function(){var i,t=[].slice.call(arguments);return n.each(e,function(e){i=(n.isFunction(e)?e.apply(this,t):e)||i,t.push(i)},this),i}}),i};var i;return e.patch=function(t){i=t.Model.extend;var o=function(n,t){var o=i.call(this,n,t),r=o.prototype.mixins;return r&&o.prototype.hasOwnProperty("mixins")&&e.mixin(o,r),o};n.each([t.Model,t.Collection,t.Router,t.View],function(i){i.mixin=function(){e.mixin(this,n.toArray(arguments))},i.extend=o})},e.unpatch=function(e){n.each([e.Model,e.Collection,e.Router,e.View],function(n){n.mixin=void 0,n.extend=i})},e});
